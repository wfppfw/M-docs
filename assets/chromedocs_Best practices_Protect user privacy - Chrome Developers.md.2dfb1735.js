import{_ as e,o as r,c as o,a as t}from"./app.8d96fb22.js";const f=JSON.parse('{"title":"Protect user privacy","description":"","frontmatter":{},"headers":[{"level":2,"title":"# Reduce required permissions","slug":"reduce-required-permissions","link":"#reduce-required-permissions","children":[{"level":3,"title":"# activeTab","slug":"activetab","link":"#activetab","children":[]}]},{"level":2,"title":"# Opt for optional permissions","slug":"opt-for-optional-permissions","link":"#opt-for-optional-permissions","children":[]},{"level":2,"title":"# Limit and secure user information","slug":"limit-and-secure-user-information","link":"#limit-and-secure-user-information","children":[]},{"level":2,"title":"# Saving data and incognito mode","slug":"saving-data-and-incognito-mode","link":"#saving-data-and-incognito-mode","children":[]}],"relativePath":"chromedocs/Best practices/Protect user privacy - Chrome Developers.md","lastUpdated":1679926139000}'),s={name:"chromedocs/Best practices/Protect user privacy - Chrome Developers.md"},n=t(`<ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#required_permissions" target="_blank" rel="noreferrer">Reduce required permissions</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#activeTab" target="_blank" rel="noreferrer">activeTab</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#optional_permissions" target="_blank" rel="noreferrer">Opt for optional permissions</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#data_collection" target="_blank" rel="noreferrer">Limit and secure user information</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#data-incognito" target="_blank" rel="noreferrer">Saving data and incognito mode</a></li></ul><h1 id="protect-user-privacy" tabindex="-1">Protect user privacy <a class="header-anchor" href="#protect-user-privacy" aria-hidden="true">#</a></h1><p>Published on Sunday, March 18, 2018 \u2022 Updated on Thursday, April 26, 2018</p><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#required_permissions" target="_blank" rel="noreferrer">Reduce required permissions</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#activeTab" target="_blank" rel="noreferrer">activeTab</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#optional_permissions" target="_blank" rel="noreferrer">Opt for optional permissions</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#data_collection" target="_blank" rel="noreferrer">Limit and secure user information</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#data-incognito" target="_blank" rel="noreferrer">Saving data and incognito mode</a></li></ul><p>Users will not install an extension if it compromises their privacy or asks for more permissions that it seems to need. Permission requests should make sense to users and be limited to the critical information necessary to implement the extension. Extensions that collect or transmit any user data must comply with the policies under <a href="https://developer.chrome.com/docs/webstore/program-policies/#:~:text=protecting%20user%20privacy" target="_blank" rel="noreferrer">Protecting User Privacy</a>.</p><p>Protect and respect extension users by including these precautions to keep their identity safe.</p><p>Remember: the less data an extension can access, the less data it can accidentally leak.</p><h2 id="reduce-required-permissions" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#required_permissions" target="_blank" rel="noreferrer">#</a> Reduce required permissions <a class="header-anchor" href="#reduce-required-permissions" aria-hidden="true">#</a></h2><p>The APIs that an extension can access are specified in the <code>permissions</code> field of the <a href="https://developer.chrome.com/docs/extensions/mv3/manifest/" target="_blank" rel="noreferrer">manifest</a>. The more permissions granted, the more avenues an attacker has to intercept information. Only the APIs an extension depends on should be listed, and consideration should be given to less invasive options. The less permissions an extension requests, the less permission warnings will be shown to a user. Users are more likely to install an extension with limited warnings.</p><p>Extensions should not &quot;future proof&quot; access to user data by requesting permissions that they do not currently need, but may implement in the future. Include new permissions with extension updates and consider making them <a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#optional_permissions" target="_blank" rel="noreferrer">optional</a>.</p><h3 id="activetab" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#activeTab" target="_blank" rel="noreferrer">#</a> activeTab <a class="header-anchor" href="#activetab" aria-hidden="true">#</a></h3><p>Extensions using host permissions to inject scripts can often substitute <a href="https://developer.chrome.com/docs/extensions/mv3/manifest/activeTab/" target="_blank" rel="noreferrer"><code>activeTab</code></a> instead. The <code>activeTab</code> permission will grant an extension temporary access to the currently active tab, only when the user <em>invokes</em> the extension. Access is cut off when the user navigates away from or closes the current tab. It serves as an alternative for many uses of <code>&lt;all_urls&gt;</code>.</p><pre><code>{  &quot;name&quot;: &quot;Very Secure Extension&quot;,  &quot;version&quot;: &quot;1.0&quot;,  &quot;description&quot;: &quot;Example of a Secure Extension&quot;,  &quot;permissions&quot;: [&quot;activeTab&quot;],  &quot;manifest_version&quot;: 2}
</code></pre><p>The activeTab permission displays no warning messages during installation.</p><h2 id="opt-for-optional-permissions" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#optional_permissions" target="_blank" rel="noreferrer">#</a> Opt for optional permissions <a class="header-anchor" href="#opt-for-optional-permissions" aria-hidden="true">#</a></h2><p>Empower users to choose which features and permissions they need from an extension by including <a href="https://developer.chrome.com/docs/extensions/reference/permissions#manifest" target="_blank" rel="noreferrer">optional permissions</a>. If a feature is not essential to the core functionality of an extension, make it optional and move the API or domain into the <code>optional_permissions</code> field.</p><pre><code>{  &quot;name&quot;: &quot;Very Secure Extension&quot;,  ...  &quot;optional_permissions&quot;: [ &quot;tabs&quot;, &quot;https://www.google.com/&quot; ],  ...}
</code></pre><p>Including optional permissions allows an extension to explain why it needs a particular permission when the user enables the relevant feature. The extension can offer the user an option to enable features.</p><p>![A screenshot of a popup asking to enable permissions](./Protect user privacy - Chrome Developers_files/5hIYQFOiYTl4EwyaYMLx.png)</p><p>Clicking <strong>Okay!</strong> will trigger the following event in the background script.</p><pre><code>document.querySelector(&#39;#button&#39;).addEventListener(&#39;click&#39;, function(event) {  // Permissions must be requested from inside a user gesture, like a button&#39;s  // click handler.  chrome.permissions.request({    permissions: [&#39;tabs&#39;],    origins: [&#39;https://www.google.com/&#39;]  }, function(granted) {    // The callback argument will be true if the user granted the permissions.    if (granted) {      // doSomething();    } else {      // doSomethingElse();    }  });});
</code></pre><p>The user will then be prompted with the following request.</p><p>![A screenshot of optional permissions request.](./Protect user privacy - Chrome Developers_files/HPfMXx3PsqYcdFjlZ2iz.png)</p><p>Optional permissions can also be implemented in an extension update. Doing so will make the new feature available to users without disabling the extension, as may happen if updating with new required permissions.</p><h2 id="limit-and-secure-user-information" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#data_collection" target="_blank" rel="noreferrer">#</a> Limit and secure user information <a class="header-anchor" href="#limit-and-secure-user-information" aria-hidden="true">#</a></h2><p>Only request the <a href="https://developer.chrome.com/docs/webstore/program-policies/permissions/" target="_blank" rel="noreferrer">minimum amount of data</a> an extension needs. The less information an extension asks from a user means less exposure if the extension is compromised.</p><p>All requested user data should be treated with care. Store and retrieve data in a secure server with a registered domain. Always use HTTPS to connect and avoid keeping sensitive user data in the client side of an extension as extension storage is not encrypted.</p><h2 id="saving-data-and-incognito-mode" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/user_privacy/#data-incognito" target="_blank" rel="noreferrer">#</a> Saving data and incognito mode <a class="header-anchor" href="#saving-data-and-incognito-mode" aria-hidden="true">#</a></h2><p>Extensions can save data using the <a href="https://developer.chrome.com/docs/extensions/reference/storage/" target="_blank" rel="noreferrer">storage</a> API, or by making server requests that result in saving data. When the extension needs to save something, first consider if it&#39;s from an incognito window. By default, extensions don&#39;t run in incognito windows.</p><p><em>Incognito mode</em> promises that the window will leave no tracks. When dealing with data from incognito windows, extensions should honor this promise. If an extension normally saves browsing history, don&#39;t save history from incognito windows. However, extensions can store setting preferences from any window, incognito or not.</p><p>To detect whether a window is in incognito mode, check the <code>incognito</code> property of the relevant <a href="https://developer.chrome.com/docs/extensions/reference/tabs/#type-Tab" target="_blank" rel="noreferrer"><code>tabs.Tab</code></a> or <a href="https://developer.chrome.com/docs/extensions/reference/windows/#type-Window" target="_blank" rel="noreferrer"><code>windows.Window</code></a> object.</p><pre><code>function saveTabData(tab) {  if (tab.incognito) {    return;  } else {    chrome.storage.local.set({data: tab.url});  }}
</code></pre><p>Updated on Thursday, April 26, 2018 \u2022 <a href="https://github.com/GoogleChrome/developer.chrome.com/blob/main/site/en/docs/extensions/mv3/user_privacy/index.md" target="_blank" rel="noreferrer">Improve article</a></p>`,33),i=[n];function a(c,l,d,p,m,h){return r(),o("div",null,i)}const v=e(s,[["render",a]]);export{f as __pageData,v as default};
