import{_ as s,o as e,c as a,a as n}from"./app.f245760f.js";const h=JSON.parse('{"title":"Tabs Manager","description":"","frontmatter":{},"headers":[{"level":2,"title":"# Overview","slug":"overview","link":"#overview","children":[]},{"level":2,"title":"# Before you start","slug":"before-you-start","link":"#before-you-start","children":[]},{"level":2,"title":"# Build the extension","slug":"build-the-extension","link":"#build-the-extension","children":[{"level":3,"title":"# Step 1: Add the extension data and icons","slug":"step-1-add-the-extension-data-and-icons","link":"#step-1-add-the-extension-data-and-icons","children":[]},{"level":3,"title":"# Step 2: Create and style the popup","slug":"step-2-create-and-style-the-popup","link":"#step-2-create-and-style-the-popup","children":[]},{"level":3,"title":"# Step 3: Manage the tabs","slug":"step-3-manage-the-tabs","link":"#step-3-manage-the-tabs","children":[]}]},{"level":2,"title":"# Test that it works","slug":"test-that-it-works","link":"#test-that-it-works","children":[{"level":3,"title":"# Load your extension locally","slug":"load-your-extension-locally","link":"#load-your-extension-locally","children":[]},{"level":3,"title":"# Open a few documentation pages","slug":"open-a-few-documentation-pages","link":"#open-a-few-documentation-pages","children":[]}]},{"level":2,"title":"# \u{1F3AF} Potential enhancements","slug":"\u{1F3AF}-potential-enhancements","link":"#\u{1F3AF}-potential-enhancements","children":[]},{"level":2,"title":"# Keep building!","slug":"keep-building","link":"#keep-building","children":[]},{"level":2,"title":"# Continue exploring","slug":"continue-exploring","link":"#continue-exploring","children":[]}],"relativePath":"chromedocs/Getting Started Guides/Tabs Manager - Chrome Developers.md"}'),o={name:"chromedocs/Getting Started Guides/Tabs Manager - Chrome Developers.md"},l=n(`<ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#overview" target="_blank" rel="noreferrer">Overview</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#prereq" target="_blank" rel="noreferrer">Before you start</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#build" target="_blank" rel="noreferrer">Build the extension</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-1" target="_blank" rel="noreferrer">Step 1: Add the extension data and icons</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-2" target="_blank" rel="noreferrer">Step 2: Create and style the popup</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-3" target="_blank" rel="noreferrer">Step 3: Manage the tabs</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#try-out" target="_blank" rel="noreferrer">Test that it works</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#locally" target="_blank" rel="noreferrer">Load your extension locally</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#open-sites" target="_blank" rel="noreferrer">Open a few documentation pages</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#challenge" target="_blank" rel="noreferrer">\u{1F3AF} Potential enhancements</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#continue" target="_blank" rel="noreferrer">Keep building!</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#continue-exploring" target="_blank" rel="noreferrer">Continue exploring</a></li></ul><h1 id="tabs-manager" tabindex="-1">Tabs Manager <a class="header-anchor" href="#tabs-manager" aria-hidden="true">#</a></h1><p>Build your first tabs manager.</p><p><small>Published on Tuesday, October 4, 2022</small></p><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#overview" target="_blank" rel="noreferrer">Overview</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#prereq" target="_blank" rel="noreferrer">Before you start</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#build" target="_blank" rel="noreferrer">Build the extension</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-1" target="_blank" rel="noreferrer">Step 1: Add the extension data and icons</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-2" target="_blank" rel="noreferrer">Step 2: Create and style the popup</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-3" target="_blank" rel="noreferrer">Step 3: Manage the tabs</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#try-out" target="_blank" rel="noreferrer">Test that it works</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#locally" target="_blank" rel="noreferrer">Load your extension locally</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#open-sites" target="_blank" rel="noreferrer">Open a few documentation pages</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#challenge" target="_blank" rel="noreferrer">\u{1F3AF} Potential enhancements</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#continue" target="_blank" rel="noreferrer">Keep building!</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#continue-exploring" target="_blank" rel="noreferrer">Continue exploring</a></li></ul><h2 id="overview" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#overview" target="_blank" rel="noreferrer">#</a> Overview <a class="header-anchor" href="#overview" aria-hidden="true">#</a></h2><p>This tutorial builds a tabs manager to organize your Chrome extension and Chrome Web store documentation tabs.</p><p>![Tabs Manager extension popup](./Tabs Manager - Chrome Developers_files/8q5ps3dqw4p2BOZRpIJT.png)</p><p>Tabs Manager extension</p><p>In this guide, we\u2019re going to explain how to do the following:</p><ul><li>Create an extension popup using the <a href="https://developer.chrome.com/docs/extensions/reference/action/" target="_blank" rel="noreferrer">Action</a> API.</li><li>Query for specific tabs using the <a href="https://developer.chrome.com/docs/extensions/reference/tabs/" target="_blank" rel="noreferrer">Tabs</a> API.</li><li>Preserve user privacy through narrow host permissions.</li><li>Change the focus of the tab.</li><li>Move tabs to the same window and group them.</li><li>Rename tab groups using the <a href="https://developer.chrome.com/docs/extensions/reference/tabGroups/" target="_blank" rel="noreferrer">TabGroups</a> API.</li></ul><h2 id="before-you-start" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#prereq" target="_blank" rel="noreferrer">#</a> Before you start <a class="header-anchor" href="#before-you-start" aria-hidden="true">#</a></h2><p>This guide assumes that you have basic web development experience. We recommend checking out <a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/development-basics/" target="_blank" rel="noreferrer">Development Basics</a> for an introduction to the extension development workflow.</p><h2 id="build-the-extension" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#build" target="_blank" rel="noreferrer">#</a> Build the extension <a class="header-anchor" href="#build-the-extension" aria-hidden="true">#</a></h2><p>To start, create a new directory called <code>tabs-manager</code> to hold the extension&#39;s files. If you prefer, you can download the complete source code on <a href="https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/tutorials/tabs-manager" target="_blank" rel="noreferrer">GitHub</a>.</p><h3 id="step-1-add-the-extension-data-and-icons" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-1" target="_blank" rel="noreferrer">#</a> Step 1: Add the extension data and icons <a class="header-anchor" href="#step-1-add-the-extension-data-and-icons" aria-hidden="true">#</a></h3><p>Create a file called <code>manifest.json</code> and add the following code:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">manifest_version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Tab Manager for Chrome Dev Docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">icons</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">16</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">images/icon-16.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">32</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">images/icon-32.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">48</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">images/icon-48.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">128</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">images/icon-128.png</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>To learn more about these manifest keys, check out the Reading time tutorial that explains the extension&#39;s <a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-reading-time#step-1" target="_blank" rel="noreferrer">metadata</a> and <a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-reading-time#step-2" target="_blank" rel="noreferrer">icons</a> in more detail.</p><p>Create an <code>images</code> folder then <a href="https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/tutorials/tabs-manager/images" target="_blank" rel="noreferrer">download the icons</a> into it.</p><h3 id="step-2-create-and-style-the-popup" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-2" target="_blank" rel="noreferrer">#</a> Step 2: Create and style the popup <a class="header-anchor" href="#step-2-create-and-style-the-popup" aria-hidden="true">#</a></h3><p>The <a href="https://developer.chrome.com/docs/extensions/reference/action/" target="_blank" rel="noreferrer">Action</a> API controls the extension action (toolbar icon). When the user clicks on the extension action, it will either run some code or open a popup, like in this case. Start by declaring the popup in the <code>manifest.json</code>:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">action</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">default_popup</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">popup.html</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>A popup is similar to a web page with one exception: it can&#39;t run inline JavaScript. Create a <code>popup.html</code> file and add the following code:</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">charset</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">UTF-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">http-equiv</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">X-UA-Compatible</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">IE=edge</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">viewport</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">content</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">width=device-width, initial-scale=1.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./popup.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">li_template</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h3</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Tab Title</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h3</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pathname</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Tab Pathname</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Google Dev Docs</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Group Tabs</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./popup.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u{1F4A1} <strong>TIP</strong>: You can use <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/await#top_level_await" target="_blank" rel="noreferrer">top level await</a> by adding <code>type=&quot;module\u201D</code> to the script tag.</p><p>Next, let&#39;s style the popup. Create a <code>popup.css</code> file and add the following code:</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#FFCB6B;">body</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20rem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">ul</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">list-style-type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> none</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-inline-start</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1rem</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">li</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.25rem</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">li</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">nth-child</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">odd</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">80808030</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">li</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">nth-child</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">even</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">ffffff</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#FFCB6B;">h3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#FFCB6B;">p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="step-3-manage-the-tabs" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#step-3" target="_blank" rel="noreferrer">#</a> Step 3: Manage the tabs <a class="header-anchor" href="#step-3-manage-the-tabs" aria-hidden="true">#</a></h3><p>The <a href="https://developer.chrome.com/docs/extensions/reference/tabs/" target="_blank" rel="noreferrer">Tabs API</a> allows an extension to create, query, modify, and rearrange tabs in the browser.</p><h4 id="request-permission" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#narrow" target="_blank" rel="noreferrer">#</a> Request permission <a class="header-anchor" href="#request-permission" aria-hidden="true">#</a></h4><p>Many methods in the Tabs API can be used without requesting any permission. However, we need access to the <code>title</code> and the <code>URL</code> of the tabs; these sensitive properties require permission. We could request <code>&quot;tabs&quot;</code> permission, but this would give access to the sensitive properties of <strong>all</strong> tabs. Since we are only managing tabs of a specific site, we will request narrow host permissions.</p><p>Narrow <a href="https://developer.chrome.com/docs/extensions/mv3/match_patterns/" target="_blank" rel="noreferrer">host permissions</a> allow us to protect user privacy by granting elevated permission to <strong>specific sites</strong>. This will grant access to the <code>title</code>, and <code>URL</code> properties, as well as additional capabilities. Add the highlighted code to the <code>manifest.json</code> file:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">host_permissions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://developer.chrome.com/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">         ...</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u{1F4A1} <strong>What are the main differences between the tabs permission and host permissions?</strong></p><p>Both the <code>&quot;tabs&quot;</code> permission and host permissions have drawbacks.</p><p>The <code>&quot;tabs&quot;</code> permission grants an extension the ability to read sensitive data on all tabs. Over time, this information could be used to collect a user&#39;s browsing history. As such, if you request this permission Chrome will display the following warning message at install time:</p><p>![Tabs permission warning dialog](./Tabs Manager - Chrome Developers_files/Zq5KIiqzVbKyoc1sa3vN.png)</p><p>Host permissions allow an extension to read and query a matching tab&#39;s sensitive properties, plus inject scripts on these tabs. Users will see the following warning message at install time:</p><p>![Host permission warning dialog](./Tabs Manager - Chrome Developers_files/KeXXloMAS8HfX7F2spTv.png)</p><p>These warning can be alarming for users. For a better onboarding experience, we recommend implementing <a href="https://developer.chrome.com/docs/extensions/reference/permissions/" target="_blank" rel="noreferrer">optional permissions</a>.</p><h4 id="query-the-tabs" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#query" target="_blank" rel="noreferrer">#</a> Query the tabs <a class="header-anchor" href="#query-the-tabs" aria-hidden="true">#</a></h4><p>You can retrieve the tabs from specific URLs using the <code>tabs.query()</code> method. Create a <code>popup.js</code> file and add the following code:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> tabs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> chrome</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tabs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://developer.chrome.com/docs/webstore/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://developer.chrome.com/docs/extensions/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;...</span></span>
<span class="line"></span></code></pre></div><p>\u{1F4A1} <strong>Can I use Chrome APIs directly in the popup?</strong></p><p>A popup and other extension pages can call any <a href="https://developer.chrome.com/docs/extensions/reference/" target="_blank" rel="noreferrer">Chrome API</a> because they are served from the chrome schema. For example <code>chrome-extension://EXTENSION_ID/popup.html</code>.</p><h4 id="focus-on-a-tab" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#focus" target="_blank" rel="noreferrer">#</a> Focus on a tab <a class="header-anchor" href="#focus-on-a-tab" aria-hidden="true">#</a></h4><p>First, the extension will sort tab names (the titles of the contained HTML pages) alphabetically. Then, when a list item is clicked, it will focus on that tab using <code>tabs.update()</code> and bring the window to the front using <code>windows.update()</code>. Add the following code to the <code>popup.js</code> file:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> collator </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> Intl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Collator</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">tabs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> collator</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compare</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">title))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">li_template</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> elements </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Set</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> tab </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> tabs) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">template</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">firstElementChild</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cloneNode</span><span style="color:#F07178;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">title</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tab</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">pathname</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">URL</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tab</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">pathname</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/docs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.title</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">textContent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.pathname</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">textContent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">pathname</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">async</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// need to focus window as well as the active tab</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">chrome</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tabs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tab</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> active</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">chrome</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">windows</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">tab</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">windowId</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> focused</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">elements</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">element</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ul</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">elements)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>\u{1F4A1} <strong>Interesting JavaScript used in this code</strong></p><ul><li>The <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Intl/Collator" target="_blank" rel="noreferrer">Collator</a> used to sort the tabs array by the user&#39;s preferred language.</li><li>The <a href="https://web.dev/webcomponents-template/" target="_blank" rel="noreferrer">template tag</a> used to define an HTML element that can be cloned instead of using <code>document.createElement()</code> to create each item.</li><li>The <a href="https://developer.mozilla.org/docs/Web/API/URL/URL" target="_blank" rel="noreferrer">URL constructor</a> used to create and parse URLs.</li><li>The <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noreferrer">Spread syntax</a> used to convert the Set of elements into arguments in the <code>append()</code> call.</li></ul><h4 id="group-the-tabs" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#group" target="_blank" rel="noreferrer">#</a> Group the tabs <a class="header-anchor" href="#group-the-tabs" aria-hidden="true">#</a></h4><p>The <a href="https://developer.chrome.com/docs/extensions/reference/tabGroups/" target="_blank" rel="noreferrer">TabGroups</a> API allows the extension to name the group and choose a background color. Add the <code>\u201CtabGroups\u201D</code> permission to the manifest by adding the highlighted code:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">  ...  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">permissions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tabGroups</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]}</span></span>
<span class="line"></span></code></pre></div><p>In <code>popup.js</code>, add the following code to create a button that will group all the tabs using <a href="https://developer.chrome.com/docs/extensions/reference/tabGroups/" target="_blank" rel="noreferrer"><code>tabs.group()</code></a> and move them into the current window.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> button </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">button</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">click</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tabIds</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tabs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">({</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">})</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">group</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">chrome</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tabs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">group</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tabIds</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">chrome</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tabGroups</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">group</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">DOCS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="test-that-it-works" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#try-out" target="_blank" rel="noreferrer">#</a> Test that it works <a class="header-anchor" href="#test-that-it-works" aria-hidden="true">#</a></h2><p>Verify that the file structure of your project matches the following directory tree:</p><p>![The contents of the tabs manager folder: manifest.json, popup.js, popup.css, popup.html, and images folder.](./Tabs Manager - Chrome Developers_files/JpuMfgSxQL9Y7XLymf1r.png)</p><h3 id="load-your-extension-locally" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#locally" target="_blank" rel="noreferrer">#</a> Load your extension locally <a class="header-anchor" href="#load-your-extension-locally" aria-hidden="true">#</a></h3><p>To load an unpacked extension in developer mode, follow the steps in <a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/development-basics#load-unpacked" target="_blank" rel="noreferrer">Development Basics</a>.</p><h3 id="open-a-few-documentation-pages" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#open-sites" target="_blank" rel="noreferrer">#</a> Open a few documentation pages <a class="header-anchor" href="#open-a-few-documentation-pages" aria-hidden="true">#</a></h3><p>Open the following docs in different windows:</p><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/user_interface/" target="_blank" rel="noreferrer">Design the user interface</a></li><li><a href="https://developer.chrome.com/docs/webstore/discovery/" target="_blank" rel="noreferrer">Discovery on the Chrome Web Store</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/devguide/" target="_blank" rel="noreferrer">Extension development overview</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/manifest/" target="_blank" rel="noreferrer">Manifest file format</a></li><li><a href="https://developer.chrome.com/docs/webstore/publish/" target="_blank" rel="noreferrer">Publish in the Chrome Web Store</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/" target="_blank" rel="noreferrer">Welcome to Chrome Extension Development</a></li></ul><p>Click on the popup. It should look like this:</p><p>![Tabs Manager extension popup](./Tabs Manager - Chrome Developers_files/8q5ps3dqw4p2BOZRpIJT.png)</p><p>Tabs Manager extension popup</p><p>Click on the &quot;Group tabs&quot; button. It should look like this:</p><p>![Tabs Manager Grouped tabs](./Tabs Manager - Chrome Developers_files/Cqi828zTxJUQnXtBzM62.png)</p><p>Grouped tabs using the Tabs Manager extension</p><h2 id="\u{1F3AF}-potential-enhancements" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#challenge" target="_blank" rel="noreferrer">#</a> \u{1F3AF} Potential enhancements <a class="header-anchor" href="#\u{1F3AF}-potential-enhancements" aria-hidden="true">#</a></h2><p>Based on what you\u2019ve learned today, try to implement any of the following:</p><ul><li>Customize the popup stylesheet.</li><li>Change the color and title of the tab group.</li><li>Manage the tabs of another documentation site.</li><li>Add support for ungrouping the grouped tabs.</li></ul><h2 id="keep-building" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#continue" target="_blank" rel="noreferrer">#</a> Keep building! <a class="header-anchor" href="#keep-building" aria-hidden="true">#</a></h2><p>Congratulations on finishing this tutorial \u{1F389}. Continue developing your skills by completing other tutorials on this series:</p><p>Extension</p><p>What you will learn</p><p><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-reading-time/" target="_blank" rel="noreferrer">Reading time</a></p><p>To insert an element on every page automatically.</p><p><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-focus-mode/" target="_blank" rel="noreferrer">Focus Mode</a></p><p>To run code on the current page after clicking on the extension action.</p><h2 id="continue-exploring" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/getstarted/tut-tabs-manager/#continue-exploring" target="_blank" rel="noreferrer">#</a> Continue exploring <a class="header-anchor" href="#continue-exploring" aria-hidden="true">#</a></h2><p>We hope you enjoyed building this Chrome extension and are excited to continue your Chrome development learning journey. We recommend the following learning path:</p><ul><li>The <a href="https://developer.chrome.com/docs/extensions/mv3/architecture-overview/" target="_blank" rel="noreferrer">Chrome Extension Architecture</a> backs up a bit and fills in a lot of detail about the Extensions architecture in general.</li><li>The <a href="https://developer.chrome.com/docs/extensions/mv3/devguide/" target="_blank" rel="noreferrer">developer&#39;s guide</a> has dozens of additional links to pieces of documentation relevant to advanced extension creation.</li><li>Extensions have access to powerful APIs beyond what&#39;s available on the open web. The <a href="https://developer.chrome.com/docs/extensions/reference/" target="_blank" rel="noreferrer">Chrome APIs documentation</a> walks through each API.</li></ul><p><small> Updated on Tuesday, October 4, 2022 \u2022 <a href="https://github.com/GoogleChrome/developer.chrome.com/blob/main/site/en/docs/extensions/mv3/getstarted/tut-tabs-manager/index.md" target="_blank" rel="noreferrer">Improve article</a></small></p>`,85),t=[l];function p(r,c,i,D,F,y){return e(),a("div",null,t)}const C=s(o,[["render",p]]);export{h as __pageData,C as default};
