import{_ as e,o as s,c as r,a as t}from"./app.f245760f.js";const g=JSON.parse(`{"title":"Known issues when migrating to Manifest V3","description":"","frontmatter":{},"headers":[{"level":2,"title":"# Capabilities","slug":"capabilities","link":"#capabilities","children":[{"level":3,"title":"# webRequest.onAuthRequired events","slug":"webrequest-onauthrequired-events","link":"#webrequest-onauthrequired-events","children":[]},{"level":3,"title":"# Offscreen Documents API","slug":"offscreen-documents-api","link":"#offscreen-documents-api","children":[]},{"level":3,"title":"# Userscript managers support","slug":"userscript-managers-support","link":"#userscript-managers-support","children":[]},{"level":3,"title":"# Increased quota for session storage in the Storage API","slug":"increased-quota-for-session-storage-in-the-storage-api","link":"#increased-quota-for-session-storage-in-the-storage-api","children":[]}]},{"level":2,"title":"# Bugs","slug":"bugs","link":"#bugs","children":[{"level":3,"title":"# Service workers are not started in response to webRequest events","slug":"service-workers-are-not-started-in-response-to-webrequest-events","link":"#service-workers-are-not-started-in-response-to-webrequest-events","children":[]},{"level":3,"title":"# Sandboxed page CSP can't be customized","slug":"sandboxed-page-csp-can-t-be-customized","link":"#sandboxed-page-csp-can-t-be-customized","children":[]}]}],"relativePath":"chromedocs/Migrate from Manifest V2 to Manifest V3/Known issues when migrating to Manifest V3 - Chrome Developers.md"}`),n={name:"chromedocs/Migrate from Manifest V2 to Manifest V3/Known issues when migrating to Manifest V3 - Chrome Developers.md"},o=t('<ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#capabilities" target="_blank" rel="noreferrer">Capabilities</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#webrequest-onauthrequired" target="_blank" rel="noreferrer">webRequest.onAuthRequired events</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#offscreen-documents-api" target="_blank" rel="noreferrer">Offscreen Documents API</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#userscript-managers-support" target="_blank" rel="noreferrer">Userscript managers support</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#increased-session-storage-quota" target="_blank" rel="noreferrer">Increased quota for session storage in the Storage API</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#bugs" target="_blank" rel="noreferrer">Bugs</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#webrequest-in-sw" target="_blank" rel="noreferrer">Service workers are not started in response to webRequest events</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#sandboxed-csp" target="_blank" rel="noreferrer">Sandboxed page CSP can&#39;t be customized</a></li></ul></li></ul><h1 id="known-issues-when-migrating-to-manifest-v3" tabindex="-1">Known issues when migrating to Manifest V3 <a class="header-anchor" href="#known-issues-when-migrating-to-manifest-v3" aria-hidden="true">#</a></h1><p>Published on Friday, September 23, 2022</p><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#capabilities" target="_blank" rel="noreferrer">Capabilities</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#webrequest-onauthrequired" target="_blank" rel="noreferrer">webRequest.onAuthRequired events</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#offscreen-documents-api" target="_blank" rel="noreferrer">Offscreen Documents API</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#userscript-managers-support" target="_blank" rel="noreferrer">Userscript managers support</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#increased-session-storage-quota" target="_blank" rel="noreferrer">Increased quota for session storage in the Storage API</a></li></ul></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#bugs" target="_blank" rel="noreferrer">Bugs</a><ul><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#webrequest-in-sw" target="_blank" rel="noreferrer">Service workers are not started in response to webRequest events</a></li><li><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#sandboxed-csp" target="_blank" rel="noreferrer">Sandboxed page CSP can&#39;t be customized</a></li></ul></li></ul><p>This page lists major known issues that affect developers as they migrate to Manifest V3. Known issues are divided into two primary groups:</p><ul><li><strong>Capabilities</strong> \u2013 Features that we plan to add to Manifest V3 to facilitate migration efforts.</li><li><strong>Bugs</strong> \u2013 Significant issues with Manifest V3 platform features that are not working as expected.</li></ul><p>These lists are a curated subset of items from the <a href="https://bugs.chromium.org/p/chromium/issues/list" target="_blank" rel="noreferrer">Chromium issue tracker</a>. For a complete list of issues, visit the issue tracker and search for items tagged with the <a href="https://bugs.chromium.org/p/chromium/issues/list?q=component%3APlatform%3EExtensions" target="_blank" rel="noreferrer">Platform&gt;Extensions</a> component.</p><p>When a capability is added to the platform or a bug is addressed, it will be removed from this page at roughly the same time the change lands in Chrome&#39;s Stable channel. See <a href="https://developer.chrome.com/docs/extensions/whatsnew/" target="_blank" rel="noreferrer">What&#39;s New in Chrome Extensions</a> for a list of recent updates.</p><h2 id="capabilities" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#capabilities" target="_blank" rel="noreferrer">#</a> Capabilities <a class="header-anchor" href="#capabilities" aria-hidden="true">#</a></h2><p>This section lists major features that will be added to the Manifest V3 platform in order to aid developers migrating from Manifest V2. Timelines included here are best effort estimates, not hard commitments.</p><h3 id="webrequest-onauthrequired-events" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#webrequest-onauthrequired" target="_blank" rel="noreferrer">#</a> webRequest.onAuthRequired events <a class="header-anchor" href="#webrequest-onauthrequired-events" aria-hidden="true">#</a></h3><p><strong>Summary:</strong> User-installed Manifest V3 extensions cannot currently intercept <code>webRequest.onAuthRequired</code> events, since the <code>webRequestBlocking</code> permission is restricted to policy-installed extensions. Chrome provides extensions with a way to supply credentials for authentication requests in Manifest V3.</p><p><strong>Estimated timeline:</strong> Scheduled for Chrome 108.</p><h3 id="offscreen-documents-api" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#offscreen-documents-api" target="_blank" rel="noreferrer">#</a> Offscreen Documents API <a class="header-anchor" href="#offscreen-documents-api" aria-hidden="true">#</a></h3><p><strong>Summary:</strong> Offscreen documents are a new capability that will allow Manifest V3 extensions to create a headless page (no user visible window) in order to call DOM APIs that aren&#39;t supported in extension service workers. Extensions will be able to use offscreen documents to interact with the clipboard, play audio, parse HTML, and XML documents, and so on.</p><p><strong>Estimated timeline:</strong> Scheduled for Chrome 109.</p><h3 id="userscript-managers-support" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#userscript-managers-support" target="_blank" rel="noreferrer">#</a> Userscript managers support <a class="header-anchor" href="#userscript-managers-support" aria-hidden="true">#</a></h3><p><strong>Summary:</strong> Userscript managers cannot inject scripts that are not included in the extension&#39;s package due to platform and policy changes that prevent arbitrary code execution. To address this, the Manifest V3 platform will be expanded to specifically support user-authored scripts and styles.</p><p><strong>Estimated timeline:</strong> Targeting Canary support around December, 2022.</p><h3 id="increased-quota-for-session-storage-in-the-storage-api" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#increased-session-storage-quota" target="_blank" rel="noreferrer">#</a> Increased quota for session storage in the Storage API <a class="header-anchor" href="#increased-quota-for-session-storage-in-the-storage-api" aria-hidden="true">#</a></h3><p><strong>Summary:</strong> When it was introduced, the <code>session</code> storage area had an intentionally conservative maximum quota of 1 MB. We are planning to increase this limit, but have not yet settled on a new value.</p><p><strong>Estimated timeline</strong>: Targeting Canary support around November, 2022.</p><h2 id="bugs" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#bugs" target="_blank" rel="noreferrer">#</a> Bugs <a class="header-anchor" href="#bugs" aria-hidden="true">#</a></h2><h3 id="service-workers-are-not-started-in-response-to-webrequest-events" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#webrequest-in-sw" target="_blank" rel="noreferrer">#</a> Service workers are not started in response to webRequest events <a class="header-anchor" href="#service-workers-are-not-started-in-response-to-webrequest-events" aria-hidden="true">#</a></h3><p><strong>Summary:</strong> Manifest V3 extensions will only receive <a href="https://developer.chrome.com/docs/extensions/reference/webRequest/" target="_blank" rel="noreferrer">Web Request API</a> events for a short time immediately after installation. After the extension service worker is stopped for the first time, events on this API are no longer dispatched as intended. This prevents Manifest V3 extensions from observing network requests.</p><p><strong>Shipped</strong>: Chrome 107.</p><h3 id="sandboxed-page-csp-can-t-be-customized" tabindex="-1"><a href="https://developer.chrome.com/docs/extensions/mv3/known-issues/#sandboxed-csp" target="_blank" rel="noreferrer">#</a> Sandboxed page CSP can&#39;t be customized <a class="header-anchor" href="#sandboxed-page-csp-can-t-be-customized" aria-hidden="true">#</a></h3><p><strong>Summary:</strong> Declaring a custom sandboxed page content security policy in the extension&#39;s <code>manifest.json</code> does not override the default content security policy. This prevents extensions from integrating with services that require their scripts or iframes to be remotely loaded.</p><p><strong>Estimated timeline:</strong> Targeting Canary support before January, 2023.</p><p><strong>Tracking issue:</strong> <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1247690" target="_blank" rel="noreferrer">1247690</a></p><p>Updated on Friday, September 23, 2022 \u2022 <a href="https://github.com/GoogleChrome/developer.chrome.com/blob/main/site/en/docs/extensions/mv3/known-issues/index.md" target="_blank" rel="noreferrer">Improve article</a></p>',31),a=[o];function i(l,c,d,h,p,u){return s(),r("div",null,a)}const f=e(n,[["render",i]]);export{g as __pageData,f as default};
